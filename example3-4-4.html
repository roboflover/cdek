<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Пример работы виджета ПВЗ</title>
  <script src="https://cdn.jsdelivr.net/npm/@cdek-it/widget@3" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/@unocss/runtime" type="text/javascript"></script>
  <link href="https://cdn.jsdelivr.net/npm/@unocss/reset/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/jquery" type="text/javascript"></script>
  <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', () => {
          const widget = new window.CDEKWidget({
                                                   apiKey: 'f4e034c2-8c37-4168-8b97-99b6b3b268d7',
                                                   defaultLocation: 'Новосибирск',
                                                   from: 'Новосибирск',
                                                   goods: [
                                                       {
                                                           length: 25,
                                                           width: 17,
                                                           height: 7,
                                                           weight: 6000,
                                                       }],
                                               });

          window.addGood = function() {
              widget.addParcel({
                                   length: 15,
                                   width: 10,
                                   height: 20,
                                   weight: 2000,
                               });
              $('#cntItems').html(parseInt($('#cntItems').html()) + 1);
              $('#weiItems').html(parseInt($('#weiItems').html()) + 2);
          };
      });
  </script>
</head>
<body>
  <p class="m-2">Расчет доставки для посылки 25см х 17см х 7см и весом 6 кг.</p>
  <div class="m-2">
    Корзина покупателя:
    <p> Количество товаров: <span id="cntItems">1</span> шт.</p>
    <p> Вес товара: <span id="weiItems">6</span> кг.</p>
    <button class="p-1 my-2 border-stone-500 border-2 rounded-md" onclick="window.addGood();">Добавить товар</button>
    <span class="text-sm">добавление товаров с параметрами 15см х 10см х 20см и весом 2 кг</span>
  </div>
</body>
</html>
